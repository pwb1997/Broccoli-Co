var I=Object.defineProperty,S=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var g=(e,t,r)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))V.call(t,r)&&g(e,r,t[r]);if(v)for(var r of v(t))j.call(t,r)&&g(e,r,t[r]);return e},w=(e,t)=>S(e,R(t));var y=(e,t,r)=>(g(e,typeof t!="symbol"?t+"":t,r),r);import{j as E,c as A,a as M,r as d,u as H,l as q,b as T,d as _,R as C,e as L}from"./vendor.8c706297.js";const P=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}};P();const s=E.exports.jsx,i=E.exports.jsxs,B=()=>i("div",{className:"absolute top-0 left-0 w-screen h-screen -z-10",children:[s("div",{className:"absolute w-full h-full backdrop-blur-sm backdrop-brightness-125"}),s("video",{"data-testid":"backgroundVideo",className:"object-cover min-w-full min-h-full",playsInline:!0,autoPlay:!0,muted:!0,loop:!0,children:s("source",{src:"./background.mp4",type:"video/mp4"})})]}),z=()=>i("footer",{className:"flex flex-row items-center justify-between w-full",children:[i("div",{className:"flex flex-col gap-1 py-3 italic font-bold text-white",children:[s("span",{className:"px-4 py-1 text-sm max-w-fit from-green-900/50 bg-gradient-to-l to-slate-900/30 backdrop-blur-md whitespace-nowrap",children:"Made with \u2665 in Shanghai"}),s("span",{className:"px-3 py-1 text-xs max-w-fit from-green-900/50 bg-gradient-to-r to-violet-900/30 backdrop-blur-md whitespace-nowrap",children:"\xA9 2022 Broccoli & Co. All rights reserved."})]}),i("div",{className:"flex flex-row items-center gap-0.5 px-3 backdrop-blur-md from-green-900/50 bg-gradient-to-l to-slate-900/30",children:[s("span",{className:"w-4 h-4 bg-red-500 border-2 border-white rounded-full"}),s("span",{className:"py-1 text-xl text-white max-w-fit whitespace-nowrap",children:"n air"})]})]}),D=()=>i("header",{className:"flex flex-row items-end justify-between py-5 pl-[10%] from-cyan-500/40 bg-gradient-to-tl to-pink-500/40 backdrop-blur-md",children:[i("div",{className:"flex flex-col font-mono text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-br from-violet-600 to-pink-500",children:[s("span",{children:"BROCCOLI"}),s("span",{children:"& CO."})]}),s("div",{className:"px-2 bg-black border-l-8 border-pink-500",children:s("span",{className:"text-lg font-semibold text-transparent bg-clip-text bg-gradient-to-br from-violet-600 to-pink-500",children:"\u2665 broccoli"})})]}),G=({msg:e})=>i("div",{className:"flex flex-row gap-2 text-sm font-bold leading-5 text-red-500 first:mt-1.5 last:mb-1.5",children:[s("span",{children:"*"}),s("span",{children:e})]}),X=({validationAndSubmissionResult:e})=>{const t=e.Ok?[]:A(e.Err);return s("div",{role:"alert",className:"flex flex-col w-full gap-1 px-2 mt-6 border-l-2 border-red-500 bg-red-50",children:t.map((r,n)=>s(G,{msg:r},n))})},Z=({value:e,setValue:t,highlight:r,removeHighlight:n,placeholder:l})=>{const o=c=>{t(c.target.value),n()},a=M({"w-full px-4 py-2 border":!0,"border-red-500":r,"border-black":!r});return s("input",{type:"text",className:a,placeholder:l,value:e,onChange:o})},K=(e,t)=>{let r=[];return e.Ok?t.Ok||(r=[t.Err]):r=Object.values(e.Err).flat(),r.length>0?{Ok:!1,Err:r}:{Ok:!0}},Q=(e,t)=>{const r=Object.fromEntries(e.map(a=>[a,!1])),[n,l]=d.exports.useState(m({},r));return d.exports.useEffect(()=>{const a=m({},r);t.Ok||Object.keys(t.Err).forEach(c=>{a[c]=!0}),l(a)},[t]),[n,a=>l(w(m({},n),{[a]:!1}))]},U=e=>{const t=Object.fromEntries(e.map(o=>[o,""])),[r,n]=d.exports.useState(m({},t));return[r,(o,a)=>n(w(m({},r),{[o]:a}))]},$=(e,t)=>{const[r,n]=d.exports.useState({Ok:!0}),[l,o]=d.exports.useState(!1);return[{submitting:l,submissionResult:r},async()=>{o(!0),n({Ok:!0});const c=await t(e);return c.Ok||(o(!1),n(c)),c.Ok}]},W=(e,t)=>{const[r,n]=d.exports.useState({Ok:!0});return[r,()=>{const o=t(e);return n(o),o.Ok}]},Y=(e,t,r)=>{const[n,l]=U(e),[o,a]=W(n,t),[{submissionResult:c,submitting:p},f]=$(n,r),[b,h]=Q(e,o),x=K(o,c);return[{inputValues:n,submitting:p,fieldHighlights:b,validationAndSubmissionResult:x},{setInputValue:l,validateForm:a,submitForm:f,removeFieldHighlight:h}]},J=({fieldNames:e,submitButtonText:t,submittingButtonText:r,onValidate:n,onSubmit:l})=>{const[{inputValues:o,fieldHighlights:a,submitting:c,validationAndSubmissionResult:p},{setInputValue:f,removeFieldHighlight:b,validateForm:h,submitForm:x}]=Y(e,n,l);return i("form",{className:"relative flex flex-col items-center flex-1 w-full",onSubmit:async u=>{u.preventDefault(),h()&&await x()},children:[s("div",{className:"flex flex-col justify-center flex-1 w-full gap-4",children:e.map(u=>s(Z,{value:o[u],setValue:F=>f(u,F),placeholder:H(q(u)),highlight:a[u],removeHighlight:()=>b(u)},u))}),s("button",{className:"w-full px-4 py-2 mt-12 text-sm font-bold text-gray-500 border border-gray-500",type:"submit",children:c?r:t}),s(X,{validationAndSubmissionResult:p})]})},ee=e=>{if(Object.values(e).every(({Ok:r})=>r))return{Ok:!0};const t={};return Object.entries(e).forEach(([r,n])=>{n.Ok||(t[r]=n.Err)}),{Ok:!1,Err:t}},te="https://l94wc2001h.execute-api.ap-southeast-2.amazonaws.com/prod/fake-auth";class k extends Error{constructor(t){super(t);y(this,"name","ServerError")}}const re=e=>{const t=e;throw new k(t.message)},se=async e=>{await T.post(te,e).catch(t=>re(t))},le=(e,t)=>{switch(e===t){case!0:return{Ok:!0};case!1:return{Ok:!1,Err:["Email and confirm email don't match."]}}},ne=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,oe=/.{3,}/,ae=/^[a-zA-Z]/,ie=/[a-zA-Z0-9_-]*/,N=e=>t=>{const r=e.filter(({regExp:n})=>!n.test(t)).map(({errorMsg:n})=>n);switch(r.length){case 0:return{Ok:!0};default:return{Ok:!1,Err:r}}},ce=N([{regExp:ne,errorMsg:"Invalid email address."}]),ue=N([{regExp:oe,errorMsg:"Full name needs to be at least 3 characters long."},{regExp:ie,errorMsg:"Full name should only contain letters, numbers, underscores or hyphens."},{regExp:ae,errorMsg:"Full name must start with a letter."}]),de=(e,t)=>async()=>{try{return await e(),t(),{Ok:!0}}catch(r){if(r instanceof k)return{Ok:!1,Err:r.message};throw r}},me=({onSuccess:e})=>i("div",{className:"flex flex-col items-center w-full h-full gap-8",children:[s("span",{className:"text-2xl italic font-bold text-gray-500",children:"Request an invite"}),s("div",{className:"w-8 border-t border-gray-500"}),s(J,{fieldNames:["fullName","email","confirmEmail"],submitButtonText:"Send",submittingButtonText:"Sending, please wait...",onValidate:l=>ee({fullName:ue(l.fullName),email:ce(l.email),confirmEmail:le(l.email,l.confirmEmail)}),onSubmit:l=>de(()=>se({name:l.fullName,email:l.email}),e)()})]}),pe=({onOk:e})=>i("div",{className:"flex flex-col items-center w-full h-full gap-8",children:[s("span",{className:"text-2xl italic font-bold text-gray-500",children:"All done!"}),s("div",{className:"w-8 border-t border-gray-500"}),s("div",{className:"flex items-center justify-center flex-1",children:s("p",{className:"text-center text-gray-500",children:"You will be one of the first to experience Broccoli & Co. when we launch."})}),s("button",{className:"w-full px-4 py-2 mb-4 text-sm font-bold text-gray-500 border border-gray-500",onClick:()=>e(),children:"OK"})]});var O;(function(e){e[e.request=0]="request",e[e.success=1]="success"})(O||(O={}));const fe=({isVisible:e,hide:t})=>{const[r,n]=d.exports.useState(0),l=()=>n(1),o=()=>{n(0),t()};return e?_.exports.createPortal(s("div",{role:"dialog",className:"fixed top-0 flex items-center justify-center w-screen h-screen transition-all bg-black/50 backdrop-blur-sm",children:i("div",{className:"w-5/6 max-w-md p-8 bg-white border border-black",children:[r===0?s(me,{onSuccess:l}):null,r===1?s(pe,{onOk:o}):null]})}),document.body):null},be=()=>{const[e,t]=d.exports.useState(!1);return i("main",{className:"flex flex-col items-center justify-center flex-1 gap-8",children:[i("div",{className:"flex flex-col gap-1",children:[s("span",{className:"pl-2 text-4xl font-bold text-center text-white from-pink-500/75 bg-gradient-to-l to-cyan-500/75 max-w-max backdrop-blur-md",children:"A better way,"}),s("span",{className:"pl-2 text-4xl font-bold text-center text-white from-pink-500/75 bg-gradient-to-l to-cyan-900/30 max-w-max backdrop-blur-md",children:"to enjoy every day."}),s("span",{className:"self-end pr-0.5 pl-1 border-l-8 border-pink-300 font-light text-center text-white bg-gray-800/50 text-md max-w-max backdrop-blur-md",children:"Be the first to know when we launch :)"})]}),s("button",{className:"px-4 py-3 bg-slate-900/80 backdrop-blur-md",onClick:()=>{t(!0)},children:s("span",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-br from-violet-500 to-pink-500",children:"REQUEST AN INVITE"})}),s(fe,{isVisible:e,hide:()=>{t(!1)}})]})};function he(){return i("div",{className:"flex flex-col w-screen h-screen",children:[s(B,{}),s(D,{}),s(be,{}),s(z,{})]})}const xe=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${xe}px`);C.render(s(L.StrictMode,{children:s(he,{})}),document.getElementById("root"));
