var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(t,r,l)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[r]=l,o=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&n(e,r,t[r]);if(l)for(var r of l(t))s.call(t,r)&&n(e,r,t[r]);return e},i=(e,l)=>t(e,r(l));export function __vite_legacy_guard(){import("data:text/javascript,")}import{j as c,c as d,a as m,r as u,u as p,l as f,b,d as h,R as x,e as g}from"./vendor.8c706297.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const w=c.exports.jsx,y=c.exports.jsxs,v=()=>y("div",{className:"absolute top-0 left-0 w-screen h-screen -z-10",children:[w("div",{className:"absolute w-full h-full backdrop-blur-sm backdrop-brightness-125"}),w("video",{"data-testid":"backgroundVideo",className:"object-cover min-w-full min-h-full",playsInline:!0,autoPlay:!0,muted:!0,loop:!0,children:w("source",{src:"./background.mp4",type:"video/mp4"})})]}),k=()=>y("footer",{className:"flex flex-row items-center justify-between w-full",children:[y("div",{className:"flex flex-col gap-1 py-3 italic font-bold text-white",children:[w("span",{className:"px-4 py-1 text-sm w-fit whitespace-nowrap from-green-900/50 bg-gradient-to-l to-slate-900/30 backdrop-blur-md",children:"Made with ♥ in Shanghai"}),w("span",{className:"px-3 py-1 text-xs w-fit whitespace-nowrap from-green-900/50 bg-gradient-to-r to-violet-900/30 backdrop-blur-md",children:"© 2022 Broccoli & Co. All rights reserved."})]}),y("div",{className:"flex flex-row items-center gap-0.5 px-3 backdrop-blur-md from-green-900/50 bg-gradient-to-l to-slate-900/30",children:[w("span",{className:"w-4 h-4 bg-red-500 border-2 border-white rounded-full"}),w("span",{className:"py-1 text-xl text-white max-w-fit whitespace-nowrap",children:"n air"})]})]}),N=()=>y("header",{className:"flex flex-row items-end justify-between py-5 pl-[10%] from-cyan-500/40 bg-gradient-to-tl to-pink-500/40 backdrop-blur-md",children:[y("div",{className:"flex flex-col font-mono text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-br from-violet-600 to-pink-500",children:[w("span",{children:"BROCCOLI"}),w("span",{children:"& CO."})]}),w("div",{className:"px-2 bg-black border-l-8 border-pink-500",children:w("span",{className:"text-lg font-semibold text-transparent bg-clip-text bg-gradient-to-br from-violet-600 to-pink-500",children:"♥ broccoli"})})]}),O=({msg:e})=>y("div",{className:"flex flex-row gap-2 text-sm font-bold leading-5 text-red-500 first:mt-1.5 last:mb-1.5",children:[w("span",{children:"*"}),w("span",{children:e})]}),E=({validationAndSubmissionResult:e})=>{const t=e.Ok?[]:d(e.Err);return w("div",{role:"alert",className:"flex flex-col w-full gap-1 px-2 mt-6 border-l-2 border-red-500 bg-red-50",children:t.map(((e,t)=>w(O,{msg:e},t)))})},j=({value:e,setValue:t,highlight:r,removeHighlight:l,placeholder:a})=>{const s=m({"w-full px-4 py-2 border":!0,"border-red-500":r,"border-black":!r});return w("input",{type:"text",className:s,placeholder:a,value:e,onChange:e=>{t(e.target.value),l()}})},S=(e,t,r)=>{const[l,a]=(e=>{const t=Object.fromEntries(e.map((e=>[e,""]))),[r,l]=u.exports.useState(o({},t));return[r,(e,t)=>l(i(o({},r),{[e]:t}))]})(e),[s,n]=((e,t)=>{const[r,l]=u.exports.useState({Ok:!0});return[r,()=>{const r=t(e);return l(r),r.Ok}]})(l,t),[{submissionResult:c,submitting:d},m]=((e,t)=>{const[r,l]=u.exports.useState({Ok:!0}),[a,s]=u.exports.useState(!1);return[{submitting:a,submissionResult:r},async()=>{s(!0),l({Ok:!0});const r=await t(e);return r.Ok||(s(!1),l(r)),r.Ok}]})(l,r),[p,f]=((e,t)=>{const r=Object.fromEntries(e.map((e=>[e,!1]))),[l,a]=u.exports.useState(o({},r));return u.exports.useEffect((()=>{const e=o({},r);t.Ok||Object.keys(t.Err).forEach((t=>{e[t]=!0})),a(e)}),[t]),[l,e=>a(i(o({},l),{[e]:!1}))]})(e,s),b=((e,t)=>{let r=[];return e.Ok?t.Ok||(r=[t.Err]):r=Object.values(e.Err).flat(),r.length>0?{Ok:!1,Err:r}:{Ok:!0}})(s,c);return[{inputValues:l,submitting:d,fieldHighlights:p,validationAndSubmissionResult:b},{setInputValue:a,validateForm:n,submitForm:m,removeFieldHighlight:f}]},A=({fieldNames:e,submitButtonText:t,submittingButtonText:r,onValidate:l,onSubmit:a})=>{const[{inputValues:s,fieldHighlights:n,submitting:o,validationAndSubmissionResult:i},{setInputValue:c,removeFieldHighlight:d,validateForm:m,submitForm:u}]=S(e,l,a);return y("form",{className:"relative flex flex-col items-center flex-1 w-full",onSubmit:async e=>{e.preventDefault(),m()&&await u()},children:[w("div",{className:"flex flex-col justify-center flex-1 w-full gap-4",children:e.map((e=>w(j,{value:s[e],setValue:t=>c(e,t),placeholder:p(f(e)),highlight:n[e],removeHighlight:()=>d(e)},e)))}),w("button",{className:"w-full px-4 py-2 mt-12 text-sm font-bold text-gray-500 border border-gray-500",type:"submit",children:o?r:t}),w(E,{validationAndSubmissionResult:i})]})};class V extends Error{constructor(e){var t;super(e),n(this,"symbol"!=typeof(t="name")?t+"":t,"ServerError")}}const I=async e=>{await b.post("https://l94wc2001h.execute-api.ap-southeast-2.amazonaws.com/prod/fake-auth",e).catch((e=>(e=>{throw new V(e.message)})(e)))},R=(e,t)=>{switch(e===t){case!0:return{Ok:!0};case!1:return{Ok:!1,Err:["Email and confirm email don't match."]}}},B=e=>t=>{const r=e.filter((({regExp:e})=>!e.test(t))).map((({errorMsg:e})=>e));return 0===r.length?{Ok:!0}:{Ok:!1,Err:r}},F=B([{regExp:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,errorMsg:"Invalid email address."}]),P=B([{regExp:/.{3,}/,errorMsg:"Full name needs to be at least 3 characters long."},{regExp:/[a-zA-Z0-9_-]*/,errorMsg:"Full name should only contain letters, numbers, underscores or hyphens."},{regExp:/^[a-zA-Z]/,errorMsg:"Full name must start with a letter."}]),C=({onSuccess:e})=>y("div",{className:"flex flex-col items-center w-full h-full gap-8",children:[w("span",{className:"text-2xl italic font-bold text-gray-500",children:"Request an invite"}),w("div",{className:"w-8 border-t border-gray-500"}),w(A,{fieldNames:["fullName","email","confirmEmail"],submitButtonText:"Send",submittingButtonText:"Sending, please wait...",onValidate:e=>(e=>{if(Object.values(e).every((({Ok:e})=>e)))return{Ok:!0};const t={};return Object.entries(e).forEach((([e,r])=>{r.Ok||(t[e]=r.Err)})),{Ok:!1,Err:t}})({fullName:P(e.fullName),email:F(e.email),confirmEmail:R(e.email,e.confirmEmail)}),onSubmit:t=>((e,t)=>async()=>{try{return await e(),t(),{Ok:!0}}catch(r){if(r instanceof V)return{Ok:!1,Err:r.message};throw r}})((()=>I({name:t.fullName,email:t.email})),e)()})]}),M=({onOk:e})=>y("div",{className:"flex flex-col items-center w-full h-full gap-8",children:[w("span",{className:"text-2xl italic font-bold text-gray-500",children:"All done!"}),w("div",{className:"w-8 border-t border-gray-500"}),w("div",{className:"flex items-center justify-center flex-1",children:w("p",{className:"text-center text-gray-500",children:"You will be one of the first to experience Broccoli & Co. when we launch."})}),w("button",{className:"w-full px-4 py-2 mb-4 text-sm font-bold text-gray-500 border border-gray-500",onClick:()=>e(),children:"OK"})]});var H,z;(z=H||(H={}))[z.request=0]="request",z[z.success=1]="success";const T=({isVisible:e,hide:t})=>{const[r,l]=u.exports.useState(0);return e?h.exports.createPortal(w("div",{role:"dialog",className:"fixed top-0 flex items-center justify-center w-screen h-screen transition-all bg-black/50 backdrop-blur-sm",children:y("div",{className:"w-5/6 max-w-md p-8 bg-white border border-black",children:[0===r?w(C,{onSuccess:()=>l(1)}):null,1===r?w(M,{onOk:()=>{l(0),t()}}):null]})}),document.body):null},L=()=>{const[e,t]=u.exports.useState(!1);return y("main",{className:"flex flex-col items-center justify-center flex-1 gap-8",children:[y("div",{className:"flex flex-col gap-1",children:[w("span",{className:"pl-2 text-4xl font-bold text-white from-pink-500/75 bg-gradient-to-l to-cyan-500/75 w-fit whitespace-nowrap backdrop-blur-md",children:"A better way,"}),w("span",{className:"pl-2 text-4xl font-bold text-white from-pink-500/75 bg-gradient-to-l to-cyan-900/30 w-fit whitespace-nowrap backdrop-blur-md",children:"to enjoy every day."}),w("span",{className:"self-end pr-0.5 pl-1 border-l-8 border-pink-300 font-light text-center text-white bg-gray-800/50 text-md w-fit whitespace-nowrap backdrop-blur-md",children:"Be the first to know when we launch :)"})]}),w("button",{className:"px-4 py-3 bg-slate-900/80 backdrop-blur-md",onClick:()=>{t(!0)},children:w("span",{className:"text-2xl font-bold text-transparent whitespace-nowrap bg-clip-text bg-gradient-to-br from-violet-500 to-pink-500",children:"REQUEST AN INVITE"})}),w(T,{isVisible:e,hide:()=>{t(!1)}})]})};function _(){return y("div",{className:"flex flex-col w-screen h-screen",children:[w(v,{}),w(N,{}),w(L,{}),w(k,{})]})}const q=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${q}px`),x.render(w(g.StrictMode,{children:w(_,{})}),document.getElementById("root"));
